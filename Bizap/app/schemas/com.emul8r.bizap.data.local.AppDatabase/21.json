{
  "formatVersion": 1,
  "database": {
    "version": 21,
    "identityHash": "56e106de0a286b081877d7dc61c93cdd",
    "entities": [
      {
        "tableName": "customers",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `businessProfileId` INTEGER NOT NULL, `name` TEXT NOT NULL, `businessName` TEXT, `businessNumber` TEXT, `email` TEXT, `phone` TEXT, `address` TEXT, `notes` TEXT NOT NULL, `createdAt` INTEGER NOT NULL, `updatedAt` INTEGER NOT NULL)",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "businessProfileId",
            "columnName": "businessProfileId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "name",
            "columnName": "name",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "businessName",
            "columnName": "businessName",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "businessNumber",
            "columnName": "businessNumber",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "email",
            "columnName": "email",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "phone",
            "columnName": "phone",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "address",
            "columnName": "address",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "notes",
            "columnName": "notes",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "createdAt",
            "columnName": "createdAt",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "updatedAt",
            "columnName": "updatedAt",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        },
        "indices": [
          {
            "name": "idx_customers_business",
            "unique": false,
            "columnNames": [
              "businessProfileId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `idx_customers_business` ON `${TABLE_NAME}` (`businessProfileId`)"
          },
          {
            "name": "idx_customers_email",
            "unique": false,
            "columnNames": [
              "email"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `idx_customers_email` ON `${TABLE_NAME}` (`email`)"
          }
        ],
        "foreignKeys": []
      },
      {
        "tableName": "invoices",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `businessProfileId` INTEGER NOT NULL, `customerId` INTEGER, `customerName` TEXT NOT NULL, `customerAddress` TEXT NOT NULL, `customerEmail` TEXT, `date` INTEGER NOT NULL, `totalAmount` INTEGER NOT NULL, `isQuote` INTEGER NOT NULL, `status` TEXT NOT NULL, `header` TEXT, `subheader` TEXT, `notes` TEXT, `footer` TEXT, `photoUris` TEXT, `pdfUri` TEXT, `dueDate` INTEGER NOT NULL, `taxRate` REAL NOT NULL, `taxAmount` INTEGER NOT NULL, `companyLogoPath` TEXT, `updatedAt` INTEGER NOT NULL, `amountPaid` INTEGER NOT NULL, `parentInvoiceId` INTEGER, `version` INTEGER NOT NULL, `invoiceYear` INTEGER NOT NULL, `invoiceSequence` INTEGER NOT NULL, `currencyCode` TEXT NOT NULL, `templateId` TEXT, `templateSnapshot` TEXT, `customFieldValues` TEXT, FOREIGN KEY(`customerId`) REFERENCES `customers`(`id`) ON UPDATE NO ACTION ON DELETE SET NULL )",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "businessProfileId",
            "columnName": "businessProfileId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "customerId",
            "columnName": "customerId",
            "affinity": "INTEGER",
            "notNull": false
          },
          {
            "fieldPath": "customerName",
            "columnName": "customerName",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "customerAddress",
            "columnName": "customerAddress",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "customerEmail",
            "columnName": "customerEmail",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "date",
            "columnName": "date",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "totalAmount",
            "columnName": "totalAmount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "isQuote",
            "columnName": "isQuote",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "status",
            "columnName": "status",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "header",
            "columnName": "header",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "subheader",
            "columnName": "subheader",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "notes",
            "columnName": "notes",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "footer",
            "columnName": "footer",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "photoUris",
            "columnName": "photoUris",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "pdfUri",
            "columnName": "pdfUri",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "dueDate",
            "columnName": "dueDate",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "taxRate",
            "columnName": "taxRate",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "taxAmount",
            "columnName": "taxAmount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "companyLogoPath",
            "columnName": "companyLogoPath",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "updatedAt",
            "columnName": "updatedAt",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "amountPaid",
            "columnName": "amountPaid",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "parentInvoiceId",
            "columnName": "parentInvoiceId",
            "affinity": "INTEGER",
            "notNull": false
          },
          {
            "fieldPath": "version",
            "columnName": "version",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "invoiceYear",
            "columnName": "invoiceYear",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "invoiceSequence",
            "columnName": "invoiceSequence",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "currencyCode",
            "columnName": "currencyCode",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "templateId",
            "columnName": "templateId",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "templateSnapshot",
            "columnName": "templateSnapshot",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "customFieldValues",
            "columnName": "customFieldValues",
            "affinity": "TEXT",
            "notNull": false
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        },
        "indices": [
          {
            "name": "idx_invoices_business",
            "unique": false,
            "columnNames": [
              "businessProfileId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `idx_invoices_business` ON `${TABLE_NAME}` (`businessProfileId`)"
          },
          {
            "name": "idx_invoices_customer",
            "unique": false,
            "columnNames": [
              "customerId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `idx_invoices_customer` ON `${TABLE_NAME}` (`customerId`)"
          },
          {
            "name": "idx_invoices_status",
            "unique": false,
            "columnNames": [
              "status"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `idx_invoices_status` ON `${TABLE_NAME}` (`status`)"
          },
          {
            "name": "idx_invoices_business_status",
            "unique": false,
            "columnNames": [
              "businessProfileId",
              "status"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `idx_invoices_business_status` ON `${TABLE_NAME}` (`businessProfileId`, `status`)"
          },
          {
            "name": "idx_invoices_year_sequence",
            "unique": false,
            "columnNames": [
              "invoiceYear",
              "invoiceSequence",
              "businessProfileId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `idx_invoices_year_sequence` ON `${TABLE_NAME}` (`invoiceYear`, `invoiceSequence`, `businessProfileId`)"
          }
        ],
        "foreignKeys": [
          {
            "table": "customers",
            "onDelete": "SET NULL",
            "onUpdate": "NO ACTION",
            "columns": [
              "customerId"
            ],
            "referencedColumns": [
              "id"
            ]
          }
        ]
      },
      {
        "tableName": "line_items",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `invoiceId` INTEGER NOT NULL, `description` TEXT NOT NULL, `quantity` REAL NOT NULL, `unitPrice` INTEGER NOT NULL, FOREIGN KEY(`invoiceId`) REFERENCES `invoices`(`id`) ON UPDATE NO ACTION ON DELETE CASCADE )",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "invoiceId",
            "columnName": "invoiceId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "description",
            "columnName": "description",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "quantity",
            "columnName": "quantity",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "unitPrice",
            "columnName": "unitPrice",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        },
        "indices": [
          {
            "name": "index_line_items_invoiceId",
            "unique": false,
            "columnNames": [
              "invoiceId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_line_items_invoiceId` ON `${TABLE_NAME}` (`invoiceId`)"
          }
        ],
        "foreignKeys": [
          {
            "table": "invoices",
            "onDelete": "CASCADE",
            "onUpdate": "NO ACTION",
            "columns": [
              "invoiceId"
            ],
            "referencedColumns": [
              "id"
            ]
          }
        ]
      },
      {
        "tableName": "prefilled_items",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `description` TEXT NOT NULL, `unitPrice` INTEGER NOT NULL)",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "description",
            "columnName": "description",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "unitPrice",
            "columnName": "unitPrice",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        },
        "indices": [],
        "foreignKeys": []
      },
      {
        "tableName": "generated_documents",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `relatedInvoiceId` INTEGER NOT NULL, `fileName` TEXT NOT NULL, `absolutePath` TEXT NOT NULL, `fileType` TEXT NOT NULL, `createdAt` INTEGER NOT NULL, `status` TEXT NOT NULL, `statusUpdatedAt` INTEGER NOT NULL, FOREIGN KEY(`relatedInvoiceId`) REFERENCES `invoices`(`id`) ON UPDATE NO ACTION ON DELETE CASCADE )",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "relatedInvoiceId",
            "columnName": "relatedInvoiceId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "fileName",
            "columnName": "fileName",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "absolutePath",
            "columnName": "absolutePath",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "fileType",
            "columnName": "fileType",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "createdAt",
            "columnName": "createdAt",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "status",
            "columnName": "status",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "statusUpdatedAt",
            "columnName": "statusUpdatedAt",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        },
        "indices": [
          {
            "name": "index_generated_documents_relatedInvoiceId",
            "unique": false,
            "columnNames": [
              "relatedInvoiceId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_generated_documents_relatedInvoiceId` ON `${TABLE_NAME}` (`relatedInvoiceId`)"
          },
          {
            "name": "index_generated_documents_relatedInvoiceId_fileType",
            "unique": true,
            "columnNames": [
              "relatedInvoiceId",
              "fileType"
            ],
            "orders": [],
            "createSql": "CREATE UNIQUE INDEX IF NOT EXISTS `index_generated_documents_relatedInvoiceId_fileType` ON `${TABLE_NAME}` (`relatedInvoiceId`, `fileType`)"
          }
        ],
        "foreignKeys": [
          {
            "table": "invoices",
            "onDelete": "CASCADE",
            "onUpdate": "NO ACTION",
            "columns": [
              "relatedInvoiceId"
            ],
            "referencedColumns": [
              "id"
            ]
          }
        ]
      },
      {
        "tableName": "business_profiles",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `businessName` TEXT NOT NULL, `abn` TEXT NOT NULL, `email` TEXT NOT NULL, `phone` TEXT NOT NULL, `address` TEXT NOT NULL, `website` TEXT NOT NULL, `bsbNumber` TEXT, `accountNumber` TEXT, `accountName` TEXT, `bankName` TEXT, `logoBase64` TEXT, `signatureUri` TEXT, `createdAt` INTEGER NOT NULL, `isTaxRegistered` INTEGER NOT NULL, `defaultTaxRate` REAL NOT NULL)",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "businessName",
            "columnName": "businessName",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "abn",
            "columnName": "abn",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "email",
            "columnName": "email",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "phone",
            "columnName": "phone",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "address",
            "columnName": "address",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "website",
            "columnName": "website",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "bsbNumber",
            "columnName": "bsbNumber",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "accountNumber",
            "columnName": "accountNumber",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "accountName",
            "columnName": "accountName",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "bankName",
            "columnName": "bankName",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "logoBase64",
            "columnName": "logoBase64",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "signatureUri",
            "columnName": "signatureUri",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "createdAt",
            "columnName": "createdAt",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "isTaxRegistered",
            "columnName": "isTaxRegistered",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "defaultTaxRate",
            "columnName": "defaultTaxRate",
            "affinity": "REAL",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        },
        "indices": [],
        "foreignKeys": []
      },
      {
        "tableName": "currencies",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`code` TEXT NOT NULL, `symbol` TEXT NOT NULL, `name` TEXT NOT NULL, `isSystemDefault` INTEGER NOT NULL, `isEnabled` INTEGER NOT NULL, PRIMARY KEY(`code`))",
        "fields": [
          {
            "fieldPath": "code",
            "columnName": "code",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "symbol",
            "columnName": "symbol",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "name",
            "columnName": "name",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "isSystemDefault",
            "columnName": "isSystemDefault",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "isEnabled",
            "columnName": "isEnabled",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": false,
          "columnNames": [
            "code"
          ]
        },
        "indices": [],
        "foreignKeys": []
      },
      {
        "tableName": "exchange_rates",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`baseCurrencyCode` TEXT NOT NULL, `targetCurrencyCode` TEXT NOT NULL, `rate` REAL NOT NULL, `lastUpdated` INTEGER NOT NULL, PRIMARY KEY(`baseCurrencyCode`))",
        "fields": [
          {
            "fieldPath": "baseCurrencyCode",
            "columnName": "baseCurrencyCode",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "targetCurrencyCode",
            "columnName": "targetCurrencyCode",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "rate",
            "columnName": "rate",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "lastUpdated",
            "columnName": "lastUpdated",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": false,
          "columnNames": [
            "baseCurrencyCode"
          ]
        },
        "indices": [],
        "foreignKeys": []
      },
      {
        "tableName": "pending_operations",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` TEXT NOT NULL, `operationType` TEXT NOT NULL, `entityType` TEXT NOT NULL, `entityId` INTEGER, `businessProfileId` INTEGER NOT NULL, `payload` TEXT NOT NULL, `status` TEXT NOT NULL, `retryCount` INTEGER NOT NULL, `maxRetries` INTEGER NOT NULL, `createdAt` INTEGER NOT NULL, `updatedAt` INTEGER NOT NULL, `lastError` TEXT, PRIMARY KEY(`id`))",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "operationType",
            "columnName": "operationType",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "entityType",
            "columnName": "entityType",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "entityId",
            "columnName": "entityId",
            "affinity": "INTEGER",
            "notNull": false
          },
          {
            "fieldPath": "businessProfileId",
            "columnName": "businessProfileId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "payload",
            "columnName": "payload",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "status",
            "columnName": "status",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "retryCount",
            "columnName": "retryCount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "maxRetries",
            "columnName": "maxRetries",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "createdAt",
            "columnName": "createdAt",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "updatedAt",
            "columnName": "updatedAt",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "lastError",
            "columnName": "lastError",
            "affinity": "TEXT",
            "notNull": false
          }
        ],
        "primaryKey": {
          "autoGenerate": false,
          "columnNames": [
            "id"
          ]
        },
        "indices": [],
        "foreignKeys": []
      },
      {
        "tableName": "invoice_analytics_snapshots",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`invoiceId` INTEGER NOT NULL, `businessProfileId` INTEGER NOT NULL, `customerId` INTEGER NOT NULL, `customerName` TEXT NOT NULL, `invoiceNumber` TEXT NOT NULL, `currencyCode` TEXT NOT NULL, `subtotal` INTEGER NOT NULL, `taxAmount` INTEGER NOT NULL, `totalAmount` INTEGER NOT NULL, `status` TEXT NOT NULL, `isPaid` INTEGER NOT NULL, `isOverdue` INTEGER NOT NULL, `invoiceDateMs` INTEGER NOT NULL, `createdAtMs` INTEGER NOT NULL, `paidAtMs` INTEGER, `daysPending` INTEGER NOT NULL, `lineItemCount` INTEGER NOT NULL, `snapshotCreatedAtMs` INTEGER NOT NULL, PRIMARY KEY(`invoiceId`))",
        "fields": [
          {
            "fieldPath": "invoiceId",
            "columnName": "invoiceId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "businessProfileId",
            "columnName": "businessProfileId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "customerId",
            "columnName": "customerId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "customerName",
            "columnName": "customerName",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "invoiceNumber",
            "columnName": "invoiceNumber",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "currencyCode",
            "columnName": "currencyCode",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "subtotal",
            "columnName": "subtotal",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "taxAmount",
            "columnName": "taxAmount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "totalAmount",
            "columnName": "totalAmount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "status",
            "columnName": "status",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "isPaid",
            "columnName": "isPaid",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "isOverdue",
            "columnName": "isOverdue",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "invoiceDateMs",
            "columnName": "invoiceDateMs",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "createdAtMs",
            "columnName": "createdAtMs",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "paidAtMs",
            "columnName": "paidAtMs",
            "affinity": "INTEGER",
            "notNull": false
          },
          {
            "fieldPath": "daysPending",
            "columnName": "daysPending",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "lineItemCount",
            "columnName": "lineItemCount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "snapshotCreatedAtMs",
            "columnName": "snapshotCreatedAtMs",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": false,
          "columnNames": [
            "invoiceId"
          ]
        },
        "indices": [
          {
            "name": "idx_analytics_business",
            "unique": false,
            "columnNames": [
              "businessProfileId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `idx_analytics_business` ON `${TABLE_NAME}` (`businessProfileId`)"
          },
          {
            "name": "idx_analytics_date",
            "unique": false,
            "columnNames": [
              "invoiceDateMs"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `idx_analytics_date` ON `${TABLE_NAME}` (`invoiceDateMs`)"
          },
          {
            "name": "idx_analytics_status",
            "unique": false,
            "columnNames": [
              "status"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `idx_analytics_status` ON `${TABLE_NAME}` (`status`)"
          },
          {
            "name": "idx_analytics_currency",
            "unique": false,
            "columnNames": [
              "currencyCode"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `idx_analytics_currency` ON `${TABLE_NAME}` (`currencyCode`)"
          }
        ],
        "foreignKeys": []
      },
      {
        "tableName": "daily_revenue_snapshots",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `businessProfileId` INTEGER NOT NULL, `dateString` TEXT NOT NULL, `dateMs` INTEGER NOT NULL, `totalRevenue` INTEGER NOT NULL, `invoiceCount` INTEGER NOT NULL, `paidInvoiceCount` INTEGER NOT NULL, `draftInvoiceCount` INTEGER NOT NULL, `averageInvoiceAmount` INTEGER NOT NULL, `currencyBreakdown` TEXT NOT NULL, `dayOverDayGrowth` REAL NOT NULL, `weekOverWeekGrowth` REAL NOT NULL, `snapshotCreatedAtMs` INTEGER NOT NULL)",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "businessProfileId",
            "columnName": "businessProfileId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "dateString",
            "columnName": "dateString",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "dateMs",
            "columnName": "dateMs",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "totalRevenue",
            "columnName": "totalRevenue",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "invoiceCount",
            "columnName": "invoiceCount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "paidInvoiceCount",
            "columnName": "paidInvoiceCount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "draftInvoiceCount",
            "columnName": "draftInvoiceCount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "averageInvoiceAmount",
            "columnName": "averageInvoiceAmount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "currencyBreakdown",
            "columnName": "currencyBreakdown",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "dayOverDayGrowth",
            "columnName": "dayOverDayGrowth",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "weekOverWeekGrowth",
            "columnName": "weekOverWeekGrowth",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "snapshotCreatedAtMs",
            "columnName": "snapshotCreatedAtMs",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        },
        "indices": [
          {
            "name": "idx_daily_business",
            "unique": false,
            "columnNames": [
              "businessProfileId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `idx_daily_business` ON `${TABLE_NAME}` (`businessProfileId`)"
          },
          {
            "name": "idx_daily_date",
            "unique": false,
            "columnNames": [
              "dateString"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `idx_daily_date` ON `${TABLE_NAME}` (`dateString`)"
          }
        ],
        "foreignKeys": []
      },
      {
        "tableName": "customer_analytics_snapshots",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`customerId` INTEGER NOT NULL, `businessProfileId` INTEGER NOT NULL, `customerName` TEXT NOT NULL, `customerEmail` TEXT, `totalRevenue` INTEGER NOT NULL, `invoiceCount` INTEGER NOT NULL, `paidInvoiceCount` INTEGER NOT NULL, `overdueInvoiceCount` INTEGER NOT NULL, `averageInvoiceAmount` INTEGER NOT NULL, `customerLifetimeValue` INTEGER NOT NULL, `estimatedLTV` INTEGER NOT NULL, `isTopCustomer` INTEGER NOT NULL, `segment` TEXT NOT NULL, `purchaseVelocity` REAL NOT NULL, `averageDaysBetweenPurchases` REAL NOT NULL, `daysSinceLastPurchase` INTEGER NOT NULL, `churnRiskScore` REAL NOT NULL, `isPredictedToChurn` INTEGER NOT NULL, `churnRiskFactors` TEXT NOT NULL, `lastInvoiceDateMs` INTEGER, `lastPaymentDateMs` INTEGER, `isActive` INTEGER NOT NULL, `riskScore` INTEGER NOT NULL, `snapshotCreatedAtMs` INTEGER NOT NULL, `lastUpdatedMs` INTEGER NOT NULL, PRIMARY KEY(`customerId`))",
        "fields": [
          {
            "fieldPath": "customerId",
            "columnName": "customerId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "businessProfileId",
            "columnName": "businessProfileId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "customerName",
            "columnName": "customerName",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "customerEmail",
            "columnName": "customerEmail",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "totalRevenue",
            "columnName": "totalRevenue",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "invoiceCount",
            "columnName": "invoiceCount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "paidInvoiceCount",
            "columnName": "paidInvoiceCount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "overdueInvoiceCount",
            "columnName": "overdueInvoiceCount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "averageInvoiceAmount",
            "columnName": "averageInvoiceAmount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "customerLifetimeValue",
            "columnName": "customerLifetimeValue",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "estimatedLTV",
            "columnName": "estimatedLTV",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "isTopCustomer",
            "columnName": "isTopCustomer",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "segment",
            "columnName": "segment",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "purchaseVelocity",
            "columnName": "purchaseVelocity",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "averageDaysBetweenPurchases",
            "columnName": "averageDaysBetweenPurchases",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "daysSinceLastPurchase",
            "columnName": "daysSinceLastPurchase",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "churnRiskScore",
            "columnName": "churnRiskScore",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "isPredictedToChurn",
            "columnName": "isPredictedToChurn",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "churnRiskFactors",
            "columnName": "churnRiskFactors",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "lastInvoiceDateMs",
            "columnName": "lastInvoiceDateMs",
            "affinity": "INTEGER",
            "notNull": false
          },
          {
            "fieldPath": "lastPaymentDateMs",
            "columnName": "lastPaymentDateMs",
            "affinity": "INTEGER",
            "notNull": false
          },
          {
            "fieldPath": "isActive",
            "columnName": "isActive",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "riskScore",
            "columnName": "riskScore",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "snapshotCreatedAtMs",
            "columnName": "snapshotCreatedAtMs",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "lastUpdatedMs",
            "columnName": "lastUpdatedMs",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": false,
          "columnNames": [
            "customerId"
          ]
        },
        "indices": [
          {
            "name": "idx_cust_analytics_business",
            "unique": false,
            "columnNames": [
              "businessProfileId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `idx_cust_analytics_business` ON `${TABLE_NAME}` (`businessProfileId`)"
          },
          {
            "name": "idx_cust_analytics_ltv",
            "unique": false,
            "columnNames": [
              "customerLifetimeValue"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `idx_cust_analytics_ltv` ON `${TABLE_NAME}` (`customerLifetimeValue`)"
          },
          {
            "name": "idx_cust_analytics_segment",
            "unique": false,
            "columnNames": [
              "segment"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `idx_cust_analytics_segment` ON `${TABLE_NAME}` (`segment`)"
          },
          {
            "name": "idx_cust_analytics_churn",
            "unique": false,
            "columnNames": [
              "isPredictedToChurn"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `idx_cust_analytics_churn` ON `${TABLE_NAME}` (`isPredictedToChurn`)"
          }
        ],
        "foreignKeys": []
      },
      {
        "tableName": "business_health_metrics",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`businessProfileId` INTEGER NOT NULL, `healthScore` INTEGER NOT NULL, `healthStatus` TEXT NOT NULL, `monthlyRecurringRevenue` REAL NOT NULL, `totalOutstandingAmount` REAL NOT NULL, `monthlyAverageRevenue` REAL NOT NULL, `monthOverMonthGrowth` REAL NOT NULL, `yearOverYearGrowth` REAL NOT NULL, `onTimePaymentRate` REAL NOT NULL, `averageDaysOutstanding` INTEGER NOT NULL, `overduePercentage` REAL NOT NULL, `activeCustomerCount` INTEGER NOT NULL, `churnedCustomerCount` INTEGER NOT NULL, `newCustomersThisMonth` INTEGER NOT NULL, `invoicesIssuedThisMonth` INTEGER NOT NULL, `averageInvoiceValue` REAL NOT NULL, `largestInvoiceValue` REAL NOT NULL, `lastCalculatedAtMs` INTEGER NOT NULL, PRIMARY KEY(`businessProfileId`))",
        "fields": [
          {
            "fieldPath": "businessProfileId",
            "columnName": "businessProfileId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "healthScore",
            "columnName": "healthScore",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "healthStatus",
            "columnName": "healthStatus",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "monthlyRecurringRevenue",
            "columnName": "monthlyRecurringRevenue",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "totalOutstandingAmount",
            "columnName": "totalOutstandingAmount",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "monthlyAverageRevenue",
            "columnName": "monthlyAverageRevenue",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "monthOverMonthGrowth",
            "columnName": "monthOverMonthGrowth",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "yearOverYearGrowth",
            "columnName": "yearOverYearGrowth",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "onTimePaymentRate",
            "columnName": "onTimePaymentRate",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "averageDaysOutstanding",
            "columnName": "averageDaysOutstanding",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "overduePercentage",
            "columnName": "overduePercentage",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "activeCustomerCount",
            "columnName": "activeCustomerCount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "churnedCustomerCount",
            "columnName": "churnedCustomerCount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "newCustomersThisMonth",
            "columnName": "newCustomersThisMonth",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "invoicesIssuedThisMonth",
            "columnName": "invoicesIssuedThisMonth",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "averageInvoiceValue",
            "columnName": "averageInvoiceValue",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "largestInvoiceValue",
            "columnName": "largestInvoiceValue",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "lastCalculatedAtMs",
            "columnName": "lastCalculatedAtMs",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": false,
          "columnNames": [
            "businessProfileId"
          ]
        },
        "indices": [
          {
            "name": "idx_health_business",
            "unique": false,
            "columnNames": [
              "businessProfileId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `idx_health_business` ON `${TABLE_NAME}` (`businessProfileId`)"
          }
        ],
        "foreignKeys": []
      },
      {
        "tableName": "invoice_payments",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `invoiceId` INTEGER NOT NULL, `amountPaid` REAL NOT NULL, `paymentDate` INTEGER NOT NULL, `paymentMethod` TEXT NOT NULL, `transactionReference` TEXT NOT NULL, `notes` TEXT, `createdAtMs` INTEGER NOT NULL, `updatedAtMs` INTEGER NOT NULL, FOREIGN KEY(`invoiceId`) REFERENCES `invoices`(`id`) ON UPDATE NO ACTION ON DELETE CASCADE )",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "invoiceId",
            "columnName": "invoiceId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "amountPaid",
            "columnName": "amountPaid",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "paymentDate",
            "columnName": "paymentDate",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "paymentMethod",
            "columnName": "paymentMethod",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "transactionReference",
            "columnName": "transactionReference",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "notes",
            "columnName": "notes",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "createdAtMs",
            "columnName": "createdAtMs",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "updatedAtMs",
            "columnName": "updatedAtMs",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        },
        "indices": [
          {
            "name": "index_invoice_payments_invoiceId",
            "unique": false,
            "columnNames": [
              "invoiceId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_invoice_payments_invoiceId` ON `${TABLE_NAME}` (`invoiceId`)"
          }
        ],
        "foreignKeys": [
          {
            "table": "invoices",
            "onDelete": "CASCADE",
            "onUpdate": "NO ACTION",
            "columns": [
              "invoiceId"
            ],
            "referencedColumns": [
              "id"
            ]
          }
        ]
      },
      {
        "tableName": "invoice_payment_snapshots",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`invoiceId` INTEGER NOT NULL, `businessProfileId` INTEGER NOT NULL, `customerId` INTEGER NOT NULL, `customerName` TEXT NOT NULL, `invoiceNumber` TEXT NOT NULL, `invoiceDate` INTEGER NOT NULL, `dueDate` INTEGER NOT NULL, `totalAmount` REAL NOT NULL, `paidAmount` REAL NOT NULL, `outstandingAmount` REAL NOT NULL, `paymentStatus` TEXT NOT NULL, `ageingBucket` TEXT NOT NULL, `daysOverdue` INTEGER NOT NULL, `daysSinceDue` INTEGER NOT NULL, `lastPaymentDate` INTEGER, `lastPaymentAmount` REAL NOT NULL, `paymentCount` INTEGER NOT NULL, `isAtRisk` INTEGER NOT NULL, `riskScore` REAL NOT NULL, `riskFactors` TEXT NOT NULL, `lastUpdatedMs` INTEGER NOT NULL, `snapshotDateMs` INTEGER NOT NULL, PRIMARY KEY(`invoiceId`), FOREIGN KEY(`invoiceId`) REFERENCES `invoices`(`id`) ON UPDATE NO ACTION ON DELETE CASCADE , FOREIGN KEY(`customerId`) REFERENCES `customers`(`id`) ON UPDATE NO ACTION ON DELETE CASCADE )",
        "fields": [
          {
            "fieldPath": "invoiceId",
            "columnName": "invoiceId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "businessProfileId",
            "columnName": "businessProfileId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "customerId",
            "columnName": "customerId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "customerName",
            "columnName": "customerName",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "invoiceNumber",
            "columnName": "invoiceNumber",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "invoiceDate",
            "columnName": "invoiceDate",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "dueDate",
            "columnName": "dueDate",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "totalAmount",
            "columnName": "totalAmount",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "paidAmount",
            "columnName": "paidAmount",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "outstandingAmount",
            "columnName": "outstandingAmount",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "paymentStatus",
            "columnName": "paymentStatus",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "ageingBucket",
            "columnName": "ageingBucket",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "daysOverdue",
            "columnName": "daysOverdue",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "daysSinceDue",
            "columnName": "daysSinceDue",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "lastPaymentDate",
            "columnName": "lastPaymentDate",
            "affinity": "INTEGER",
            "notNull": false
          },
          {
            "fieldPath": "lastPaymentAmount",
            "columnName": "lastPaymentAmount",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "paymentCount",
            "columnName": "paymentCount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "isAtRisk",
            "columnName": "isAtRisk",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "riskScore",
            "columnName": "riskScore",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "riskFactors",
            "columnName": "riskFactors",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "lastUpdatedMs",
            "columnName": "lastUpdatedMs",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "snapshotDateMs",
            "columnName": "snapshotDateMs",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": false,
          "columnNames": [
            "invoiceId"
          ]
        },
        "indices": [
          {
            "name": "index_invoice_payment_snapshots_businessProfileId",
            "unique": false,
            "columnNames": [
              "businessProfileId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_invoice_payment_snapshots_businessProfileId` ON `${TABLE_NAME}` (`businessProfileId`)"
          },
          {
            "name": "index_invoice_payment_snapshots_customerId",
            "unique": false,
            "columnNames": [
              "customerId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_invoice_payment_snapshots_customerId` ON `${TABLE_NAME}` (`customerId`)"
          },
          {
            "name": "index_invoice_payment_snapshots_paymentStatus",
            "unique": false,
            "columnNames": [
              "paymentStatus"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_invoice_payment_snapshots_paymentStatus` ON `${TABLE_NAME}` (`paymentStatus`)"
          },
          {
            "name": "index_invoice_payment_snapshots_ageingBucket",
            "unique": false,
            "columnNames": [
              "ageingBucket"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_invoice_payment_snapshots_ageingBucket` ON `${TABLE_NAME}` (`ageingBucket`)"
          },
          {
            "name": "index_invoice_payment_snapshots_isAtRisk",
            "unique": false,
            "columnNames": [
              "isAtRisk"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_invoice_payment_snapshots_isAtRisk` ON `${TABLE_NAME}` (`isAtRisk`)"
          }
        ],
        "foreignKeys": [
          {
            "table": "invoices",
            "onDelete": "CASCADE",
            "onUpdate": "NO ACTION",
            "columns": [
              "invoiceId"
            ],
            "referencedColumns": [
              "id"
            ]
          },
          {
            "table": "customers",
            "onDelete": "CASCADE",
            "onUpdate": "NO ACTION",
            "columns": [
              "customerId"
            ],
            "referencedColumns": [
              "id"
            ]
          }
        ]
      },
      {
        "tableName": "daily_payment_snapshots",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `businessProfileId` INTEGER NOT NULL, `snapshotDate` INTEGER NOT NULL, `paymentsReceivedCount` INTEGER NOT NULL, `paymentsReceivedAmount` REAL NOT NULL, `invoicesDueCount` INTEGER NOT NULL, `invoicesDueAmount` REAL NOT NULL, `invoicesOverdueCount` INTEGER NOT NULL, `invoicesOverdueAmount` REAL NOT NULL, `outstandingCurrent` REAL NOT NULL, `outstandingPast30` REAL NOT NULL, `outstandingPast60` REAL NOT NULL, `outstandingPast90` REAL NOT NULL, `collectionRate` REAL NOT NULL, `averagePaymentTime` REAL NOT NULL, `projectedMonthlyRevenue` REAL NOT NULL, `createdAtMs` INTEGER NOT NULL)",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "businessProfileId",
            "columnName": "businessProfileId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "snapshotDate",
            "columnName": "snapshotDate",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "paymentsReceivedCount",
            "columnName": "paymentsReceivedCount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "paymentsReceivedAmount",
            "columnName": "paymentsReceivedAmount",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "invoicesDueCount",
            "columnName": "invoicesDueCount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "invoicesDueAmount",
            "columnName": "invoicesDueAmount",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "invoicesOverdueCount",
            "columnName": "invoicesOverdueCount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "invoicesOverdueAmount",
            "columnName": "invoicesOverdueAmount",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "outstandingCurrent",
            "columnName": "outstandingCurrent",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "outstandingPast30",
            "columnName": "outstandingPast30",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "outstandingPast60",
            "columnName": "outstandingPast60",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "outstandingPast90",
            "columnName": "outstandingPast90",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "collectionRate",
            "columnName": "collectionRate",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "averagePaymentTime",
            "columnName": "averagePaymentTime",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "projectedMonthlyRevenue",
            "columnName": "projectedMonthlyRevenue",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "createdAtMs",
            "columnName": "createdAtMs",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        },
        "indices": [
          {
            "name": "index_daily_payment_snapshots_businessProfileId",
            "unique": false,
            "columnNames": [
              "businessProfileId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_daily_payment_snapshots_businessProfileId` ON `${TABLE_NAME}` (`businessProfileId`)"
          },
          {
            "name": "index_daily_payment_snapshots_snapshotDate",
            "unique": false,
            "columnNames": [
              "snapshotDate"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_daily_payment_snapshots_snapshotDate` ON `${TABLE_NAME}` (`snapshotDate`)"
          }
        ],
        "foreignKeys": []
      },
      {
        "tableName": "collection_metrics",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`businessProfileId` INTEGER NOT NULL, `metricsDate` INTEGER NOT NULL, `totalInvoicesIssued` INTEGER NOT NULL, `totalInvoiceAmount` REAL NOT NULL, `totalPaidAmount` REAL NOT NULL, `totalOutstandingAmount` REAL NOT NULL, `collectionRate` REAL NOT NULL, `ageingCurrent` REAL NOT NULL, `ageingPast30` REAL NOT NULL, `ageingPast60` REAL NOT NULL, `ageingPast90` REAL NOT NULL, `averageDaysToPayment` REAL NOT NULL, `medianDaysToPayment` REAL NOT NULL, `overdueInvoiceCount` INTEGER NOT NULL, `overdueAmount` REAL NOT NULL, `collectionRateTrend` REAL NOT NULL, `overdueTrend` REAL NOT NULL, `projectedCollectionRate30Days` REAL NOT NULL, `projectedOutstanding30Days` REAL NOT NULL, `lastUpdatedMs` INTEGER NOT NULL, PRIMARY KEY(`businessProfileId`))",
        "fields": [
          {
            "fieldPath": "businessProfileId",
            "columnName": "businessProfileId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "metricsDate",
            "columnName": "metricsDate",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "totalInvoicesIssued",
            "columnName": "totalInvoicesIssued",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "totalInvoiceAmount",
            "columnName": "totalInvoiceAmount",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "totalPaidAmount",
            "columnName": "totalPaidAmount",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "totalOutstandingAmount",
            "columnName": "totalOutstandingAmount",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "collectionRate",
            "columnName": "collectionRate",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "ageingCurrent",
            "columnName": "ageingCurrent",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "ageingPast30",
            "columnName": "ageingPast30",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "ageingPast60",
            "columnName": "ageingPast60",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "ageingPast90",
            "columnName": "ageingPast90",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "averageDaysToPayment",
            "columnName": "averageDaysToPayment",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "medianDaysToPayment",
            "columnName": "medianDaysToPayment",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "overdueInvoiceCount",
            "columnName": "overdueInvoiceCount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "overdueAmount",
            "columnName": "overdueAmount",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "collectionRateTrend",
            "columnName": "collectionRateTrend",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "overdueTrend",
            "columnName": "overdueTrend",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "projectedCollectionRate30Days",
            "columnName": "projectedCollectionRate30Days",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "projectedOutstanding30Days",
            "columnName": "projectedOutstanding30Days",
            "affinity": "REAL",
            "notNull": true
          },
          {
            "fieldPath": "lastUpdatedMs",
            "columnName": "lastUpdatedMs",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": false,
          "columnNames": [
            "businessProfileId"
          ]
        },
        "indices": [],
        "foreignKeys": []
      },
      {
        "tableName": "invoiceTemplates",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` TEXT NOT NULL, `businessProfileId` INTEGER NOT NULL, `name` TEXT NOT NULL, `designType` TEXT NOT NULL, `logoFileName` TEXT, `primaryColor` TEXT NOT NULL, `secondaryColor` TEXT NOT NULL, `fontFamily` TEXT NOT NULL, `companyName` TEXT NOT NULL, `companyAddress` TEXT NOT NULL, `companyPhone` TEXT NOT NULL, `companyEmail` TEXT NOT NULL, `taxId` TEXT, `bankDetails` TEXT, `hideLineItems` INTEGER NOT NULL, `hidePaymentTerms` INTEGER NOT NULL, `isDefault` INTEGER NOT NULL, `isActive` INTEGER NOT NULL, `createdAt` INTEGER NOT NULL, `updatedAt` INTEGER NOT NULL, PRIMARY KEY(`id`), FOREIGN KEY(`businessProfileId`) REFERENCES `business_profiles`(`id`) ON UPDATE NO ACTION ON DELETE CASCADE )",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "businessProfileId",
            "columnName": "businessProfileId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "name",
            "columnName": "name",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "designType",
            "columnName": "designType",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "logoFileName",
            "columnName": "logoFileName",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "primaryColor",
            "columnName": "primaryColor",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "secondaryColor",
            "columnName": "secondaryColor",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "fontFamily",
            "columnName": "fontFamily",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "companyName",
            "columnName": "companyName",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "companyAddress",
            "columnName": "companyAddress",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "companyPhone",
            "columnName": "companyPhone",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "companyEmail",
            "columnName": "companyEmail",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "taxId",
            "columnName": "taxId",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "bankDetails",
            "columnName": "bankDetails",
            "affinity": "TEXT",
            "notNull": false
          },
          {
            "fieldPath": "hideLineItems",
            "columnName": "hideLineItems",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "hidePaymentTerms",
            "columnName": "hidePaymentTerms",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "isDefault",
            "columnName": "isDefault",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "isActive",
            "columnName": "isActive",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "createdAt",
            "columnName": "createdAt",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "updatedAt",
            "columnName": "updatedAt",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": false,
          "columnNames": [
            "id"
          ]
        },
        "indices": [
          {
            "name": "index_invoiceTemplates_businessProfileId",
            "unique": false,
            "columnNames": [
              "businessProfileId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_invoiceTemplates_businessProfileId` ON `${TABLE_NAME}` (`businessProfileId`)"
          },
          {
            "name": "index_invoiceTemplates_businessProfileId_isDefault",
            "unique": false,
            "columnNames": [
              "businessProfileId",
              "isDefault"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_invoiceTemplates_businessProfileId_isDefault` ON `${TABLE_NAME}` (`businessProfileId`, `isDefault`)"
          },
          {
            "name": "index_invoiceTemplates_businessProfileId_isActive",
            "unique": false,
            "columnNames": [
              "businessProfileId",
              "isActive"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_invoiceTemplates_businessProfileId_isActive` ON `${TABLE_NAME}` (`businessProfileId`, `isActive`)"
          }
        ],
        "foreignKeys": [
          {
            "table": "business_profiles",
            "onDelete": "CASCADE",
            "onUpdate": "NO ACTION",
            "columns": [
              "businessProfileId"
            ],
            "referencedColumns": [
              "id"
            ]
          }
        ]
      },
      {
        "tableName": "invoiceCustomFields",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` TEXT NOT NULL, `templateId` TEXT NOT NULL, `label` TEXT NOT NULL, `fieldType` TEXT NOT NULL, `isRequired` INTEGER NOT NULL, `displayOrder` INTEGER NOT NULL, `isActive` INTEGER NOT NULL, PRIMARY KEY(`id`), FOREIGN KEY(`templateId`) REFERENCES `invoiceTemplates`(`id`) ON UPDATE NO ACTION ON DELETE CASCADE )",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "templateId",
            "columnName": "templateId",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "label",
            "columnName": "label",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "fieldType",
            "columnName": "fieldType",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "isRequired",
            "columnName": "isRequired",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "displayOrder",
            "columnName": "displayOrder",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "isActive",
            "columnName": "isActive",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": false,
          "columnNames": [
            "id"
          ]
        },
        "indices": [
          {
            "name": "index_invoiceCustomFields_templateId",
            "unique": false,
            "columnNames": [
              "templateId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_invoiceCustomFields_templateId` ON `${TABLE_NAME}` (`templateId`)"
          },
          {
            "name": "index_invoiceCustomFields_templateId_displayOrder",
            "unique": false,
            "columnNames": [
              "templateId",
              "displayOrder"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_invoiceCustomFields_templateId_displayOrder` ON `${TABLE_NAME}` (`templateId`, `displayOrder`)"
          }
        ],
        "foreignKeys": [
          {
            "table": "invoiceTemplates",
            "onDelete": "CASCADE",
            "onUpdate": "NO ACTION",
            "columns": [
              "templateId"
            ],
            "referencedColumns": [
              "id"
            ]
          }
        ]
      }
    ],
    "views": [],
    "setupQueries": [
      "CREATE TABLE IF NOT EXISTS room_master_table (id INTEGER PRIMARY KEY,identity_hash TEXT)",
      "INSERT OR REPLACE INTO room_master_table (id,identity_hash) VALUES(42, '56e106de0a286b081877d7dc61c93cdd')"
    ]
  }
}